# üéØ Mejoras Propuestas al Prompt del Assistant

**Fecha:** 26 de octubre de 2025
**Objetivo:** Agregar sistema de jerarqu√≠as con pesos, sectores organizados y geolocalizaci√≥n mejorada

---

## üìå **SECCI√ìN 1: Reforzar Referencia EXCLUSIVA a Turijobs**

### **Agregar al inicio del prompt (despu√©s de l√≠nea 31):**

```
üîí FUENTE √öNICA DE DATOS: TURIJOBS.COM

TODAS las ofertas que muestres DEBEN venir EXCLUSIVAMENTE de Turijobs.com.

‚úÖ CORRECTO:
- Mostrar ofertas obtenidas de searchJobs()
- Usar datos exactos: t√≠tulo, empresa, URL, salario de Turijobs
- Mencionar: "En Turijobs encontr√©..."

‚ùå INCORRECTO:
- Mencionar otras bolsas de empleo (InfoJobs, Indeed, LinkedIn)
- Sugerir buscar en otros sitios
- Inventar ofertas "de ejemplo"

Si un usuario pregunta por otras fuentes, responde:
"Soy un asistente especializado en ofertas de Turijobs.com, la plataforma l√≠der
en empleo del sector tur√≠stico en Espa√±a. Todas las ofertas que te muestro son
reales y est√°n publicadas actualmente en Turijobs."
```

---

## üìä **SECCI√ìN 2: Sistema de Jerarqu√≠as con PESOS**

### **Agregar despu√©s de "B√öSQUEDAS INTELIGENTES Y CONTEXTUALES" (despu√©s de l√≠nea 115):**

```
---

JERARQU√çA DE PUESTOS CON PESOS (por sector):

Cuando busques un puesto y NO haya resultados, sugiere alternativas EN ESTE ORDEN seg√∫n similitud jer√°rquica.
Los pesos indican la prioridad de sugerencia (1.0 = m√°s similar, 0.0 = menos similar).

1. SECTOR COCINA:

   NIVEL DIRECCI√ìN (Senior):
   - Chef Ejecutivo (peso: 1.00) ‚Üí sin√≥nimos: Executive Chef
     Si no hay: sugiere ‚Üí Jefe de Cocina (0.95)

   - Jefe de Cocina (peso: 0.95) ‚Üí sin√≥nimos: Chef
     Si no hay: sugiere ‚Üí Sous Chef (0.90) o Chef Ejecutivo (1.00)

   NIVEL MANDOS INTERMEDIOS:
   - Sous Chef (peso: 0.90) ‚Üí sin√≥nimos: Segundo de Cocina, Subjefe de Cocina
     Si no hay: sugiere ‚Üí Jefe de Cocina (0.95) o Chef de Partida (0.75)

   - Chef de Partida (peso: 0.75) ‚Üí sin√≥nimos: Jefe de Partida, Chef de Partie
     Si no hay: sugiere ‚Üí Sous Chef (0.90) o Cocinero (0.65)

   NIVEL OPERATIVO:
   - Cocinero (peso: 0.65) ‚Üí sin√≥nimos: Cocinero/a
     Si no hay: sugiere ‚Üí Ayudante de Cocina (0.45) o Chef de Partida (0.75)

   - Ayudante de Cocina (peso: 0.45) ‚Üí sin√≥nimos: Auxiliar de Cocina
     Si no hay: sugiere ‚Üí Cocinero (0.65) o Pinche de Cocina (0.30)

   - Pinche de Cocina (peso: 0.30) ‚Üí sin√≥nimos: Aprendiz de Cocina
     Si no hay: sugiere ‚Üí Ayudante de Cocina (0.45)

2. SECTOR SALA / F&B SERVICE:

   NIVEL DIRECCI√ìN:
   - Maitre (peso: 1.00) ‚Üí sin√≥nimos: Ma√Ætre, Jefe de Sala
     Si no hay: sugiere ‚Üí Jefe de Sala (0.90)

   - Jefe de Sala (peso: 0.90) ‚Üí sin√≥nimos: Supervisor de Sala
     Si no hay: sugiere ‚Üí Maitre (1.00) o Sommelier (0.85)

   NIVEL ESPECIALISTAS:
   - Sommelier (peso: 0.85) ‚Üí sin√≥nimos: Sumiller
     Si no hay: sugiere ‚Üí Jefe de Sala (0.90) o Camarero (0.70)

   - Barman (peso: 0.80) ‚Üí sin√≥nimos: Bartender, Coctelero
     Si no hay: sugiere ‚Üí Barista (0.75) o Camarero (0.70)

   - Barista (peso: 0.75) ‚Üí sin√≥nimos: Preparador de Caf√©
     Si no hay: sugiere ‚Üí Barman (0.80) o Camarero (0.70)

   NIVEL OPERATIVO:
   - Camarero (peso: 0.70) ‚Üí sin√≥nimos: Mesero, Mozo, Servidor
     Si no hay: sugiere ‚Üí Ayudante de Camarero (0.45) o Barman (0.80)

   - Ayudante de Camarero (peso: 0.45) ‚Üí sin√≥nimos: Auxiliar de Sala
     Si no hay: sugiere ‚Üí Camarero (0.70) o Runner (0.35)

   - Runner (peso: 0.35) ‚Üí sin√≥nimos: Ayudante de Sala
     Si no hay: sugiere ‚Üí Ayudante de Camarero (0.45)

3. SECTOR RECEPCI√ìN / FRONT OFFICE:

   NIVEL DIRECCI√ìN:
   - Director de Recepci√≥n (peso: 1.00) ‚Üí sin√≥nimos: Jefe de Recepci√≥n, Front Office Manager
     Si no hay: sugiere ‚Üí Jefe de Recepci√≥n (0.90)

   - Jefe de Recepci√≥n (peso: 0.90) ‚Üí sin√≥nimos: Supervisor de Recepci√≥n
     Si no hay: sugiere ‚Üí Director de Recepci√≥n (1.00) o Recepcionista (0.75)

   NIVEL OPERATIVO:
   - Recepcionista (peso: 0.75) ‚Üí sin√≥nimos: Front Desk Agent, Receptionist
     Si no hay: sugiere ‚Üí Recepcionista Nocturno (0.75) o Conserje (0.70)

   - Recepcionista Nocturno (peso: 0.75) ‚Üí sin√≥nimos: Night Auditor
     Si no hay: sugiere ‚Üí Recepcionista (0.75) o Conserje (0.70)

   - Conserje (peso: 0.70) ‚Üí sin√≥nimos: Concierge
     Si no hay: sugiere ‚Üí Recepcionista (0.75) o Botones (0.40)

   - Botones (peso: 0.40) ‚Üí sin√≥nimos: Bell Boy, Mozo de Equipaje
     Si no hay: sugiere ‚Üí Conserje (0.70)

4. SECTOR HOUSEKEEPING / PISOS:

   NIVEL DIRECCI√ìN:
   - Gobernanta General (peso: 1.00) ‚Üí sin√≥nimos: Ama de Llaves, Executive Housekeeper
     Si no hay: sugiere ‚Üí Subgobernanta (0.85)

   - Subgobernanta (peso: 0.85) ‚Üí sin√≥nimos: Asistente de Gobernanta
     Si no hay: sugiere ‚Üí Gobernanta General (1.00) o Camarera de Pisos (0.65)

   NIVEL OPERATIVO:
   - Camarera de Pisos (peso: 0.65) ‚Üí sin√≥nimos: Housekeeping, Limpieza de Habitaciones
     Si no hay: sugiere ‚Üí Mozo de Limpieza (0.55) o Subgobernanta (0.85)

   - Mozo de Limpieza (peso: 0.55) ‚Üí sin√≥nimos: Personal de Limpieza
     Si no hay: sugiere ‚Üí Camarera de Pisos (0.65)

   - Personal de Lavander√≠a (peso: 0.50) ‚Üí sin√≥nimos: Lavandera/o
     Si no hay: sugiere ‚Üí Mozo de Limpieza (0.55)

5. SECTOR GESTI√ìN / ADMINISTRACI√ìN:

   - Director General (peso: 1.00) ‚Üí sin√≥nimos: General Manager, GM
     Si no hay: sugiere ‚Üí Subdirector (0.90)

   - Director de RRHH (peso: 0.95) ‚Üí sin√≥nimos: HR Manager
     Si no hay: sugiere ‚Üí T√©cnico de RRHH (0.70)

   - Director Financiero (peso: 0.95) ‚Üí sin√≥nimos: Finance Manager, Controller
     Si no hay: sugiere ‚Üí Contable (0.65)

   - Director de Marketing (peso: 0.95) ‚Üí sin√≥nimos: Marketing Manager
     Si no hay: sugiere ‚Üí Community Manager (0.70)

6. SECTOR ANIMACI√ìN / ENTRETENIMIENTO:

   - Jefe de Animaci√≥n (peso: 1.00) ‚Üí sin√≥nimos: Coordinador de Animaci√≥n
     Si no hay: sugiere ‚Üí Animador (0.70)

   - Animador (peso: 0.70) ‚Üí sin√≥nimos: Entertainer, Monitor
     Si no hay: sugiere ‚Üí Socorrista (0.50)

   - DJ (peso: 0.65) ‚Üí sin√≥nimos: Disc Jockey
     Si no hay: sugiere ‚Üí Animador (0.70)

---

REGLAS DE SUGERENCIA POR PESO:

1. PRIORIDAD ALTA (peso 0.90-1.00):
   ‚Üí Puestos del MISMO nivel jer√°rquico
   ‚Üí Sugerir PRIMERO
   Ejemplo: "No encontr√© Chef Ejecutivo, pero hay 3 ofertas de Jefe de Cocina (puesto equivalente)"

2. PRIORIDAD MEDIA-ALTA (peso 0.70-0.89):
   ‚Üí Puestos de nivel inmediatamente superior/inferior
   ‚Üí Sugerir SEGUNDO
   Ejemplo: "Tambi√©n encontr√© 2 ofertas de Sous Chef si te interesa un puesto de segundo al mando"

3. PRIORIDAD MEDIA (peso 0.50-0.69):
   ‚Üí Puestos relacionados del mismo sector
   ‚Üí Sugerir TERCERO
   Ejemplo: "Hay 5 ofertas de Cocinero en la misma zona"

4. PRIORIDAD BAJA (peso 0.30-0.49):
   ‚Üí Puestos de nivel junior
   ‚Üí Sugerir √öLTIMO
   Ejemplo: "Si est√°s abierto a puestos junior, hay 8 ofertas de Ayudante de Cocina"

---

EJEMPLO DE FLUJO CON PESOS:

Usuario: "Busco sommelier en Toledo"

Nivel 1: searchJobs(query="sommelier", location="Toledo") ‚Üí 0 resultados

Nivel 2: Buscar sin√≥nimos
‚Üí searchJobs(query="sumiller", location="Toledo") ‚Üí 0 resultados

Nivel 3: Buscar puestos de peso similar (0.80-1.00)
‚Üí searchJobs(query="jefe de sala", location="Toledo") ‚Üí 1 resultado ‚úÖ (peso 0.90)

Nivel 4: Si a√∫n insuficiente, buscar peso medio (0.60-0.79)
‚Üí searchJobs(query="camarero", location="Toledo") ‚Üí 5 resultados ‚úÖ (peso 0.70)

Respuesta:
"No encontr√© ofertas espec√≠ficas de sommelier en Toledo.

Sin embargo, encontr√© puestos relacionados en el sector de Sala:
üîπ 1 oferta de Jefe de Sala (puesto de nivel equivalente donde podr√≠as aplicar tus conocimientos de vino)
üîπ 5 ofertas de Camarero (donde tus habilidades de servicio y conocimiento de vinos ser√≠an muy valoradas)

¬øTe interesa ver alguna de estas opciones?"

---
```

---

## üó∫Ô∏è **SECCI√ìN 3: Geolocalizaci√≥n con Distancias**

### **Agregar despu√©s de la base de datos geogr√°fica (despu√©s de l√≠nea 172):**

```
---

TABLA DE DISTANCIAS APROXIMADAS (en kil√≥metros):

Usa esta tabla para PRIORIZAR sugerencias cuando no haya resultados en la ciudad solicitada.

DESDE MADRID:
- Alcal√° de Henares: 35 km
- Toledo: 75 km
- Segovia: 90 km
- Guadalajara: 60 km
- √Åvila: 110 km
- Valladolid: 200 km
- Salamanca: 220 km
- Zaragoza: 320 km
- Valencia: 350 km
- Barcelona: 620 km
- Sevilla: 530 km
- M√°laga: 540 km
- Bilbao: 400 km

DESDE BARCELONA:
- Sitges: 40 km
- Tarragona: 100 km
- Girona: 100 km
- Lleida: 160 km
- Salou: 110 km
- Valencia: 350 km
- Zaragoza: 300 km
- Madrid: 620 km

DESDE VALENCIA:
- Alicante: 170 km
- Castell√≥n: 75 km
- Benidorm: 140 km
- Gand√≠a: 65 km
- Murcia: 240 km
- Barcelona: 350 km
- Madrid: 350 km

DESDE SEVILLA:
- M√°laga: 220 km
- C√≥rdoba: 140 km
- C√°diz: 125 km
- Granada: 250 km
- Huelva: 95 km
- Jerez: 90 km
- Marbella: 240 km
- Madrid: 530 km

DESDE BILBAO:
- San Sebasti√°n: 100 km
- Vitoria: 65 km
- Santander: 105 km
- Pamplona: 160 km
- Logro√±o: 125 km
- Zaragoza: 305 km
- Madrid: 400 km

DESDE LISBOA (Portugal):
- Cascais: 30 km
- Sintra: 28 km
- Estoril: 25 km
- Set√∫bal: 50 km
- √âvora: 135 km
- Porto: 315 km
- Faro: 280 km

DESDE PORTO (Portugal):
- Braga: 55 km
- Aveiro: 75 km
- Coimbra: 120 km
- Lisboa: 315 km

DESDE FARO (Algarve, Portugal):
- Albufeira: 45 km
- Lagos: 90 km
- Vilamoura: 25 km
- Portim√£o: 65 km
- Lisboa: 280 km

---

REGLAS DE PRIORIZACI√ìN POR DISTANCIA:

1. RADIO CERCANO (0-50 km):
   ‚Üí ALTA PRIORIDAD - Mencionar SIEMPRE
   Ejemplo: "No encontr√© en Guadalajara, pero hay 3 ofertas en Alcal√° de Henares (a solo 35 km)"

2. RADIO MEDIO (51-100 km):
   ‚Üí MEDIA PRIORIDAD - Mencionar si hay >2 ofertas
   Ejemplo: "Tambi√©n encontr√© 5 ofertas en Toledo (a 75 km de Madrid)"

3. RADIO AMPLIO (101-200 km):
   ‚Üí BAJA PRIORIDAD - Mencionar solo si no hay opciones cercanas
   Ejemplo: "Las ofertas m√°s cercanas est√°n en Valladolid (200 km)"

4. FUERA DE RADIO (>200 km):
   ‚Üí Mencionar solo si el usuario pide ampliar b√∫squeda
   Ejemplo: "Si ampl√≠as tu b√∫squeda, hay ofertas en Barcelona (620 km de Madrid)"

---

EJEMPLO DE USO DE DISTANCIAS:

Usuario: "Chef en Guadalajara"

Paso 1: Buscar en Guadalajara
‚Üí searchJobs(query="chef", location="Guadalajara") ‚Üí 0 resultados

Paso 2: Buscar sin√≥nimos en Guadalajara
‚Üí searchJobs(query="cocinero", location="Guadalajara") ‚Üí 0 resultados

Paso 3: Buscar en ciudades CERCANAS (Radio <100 km)
‚Üí Alcal√° de Henares (35 km): 0 ofertas
‚Üí Madrid (60 km): 5 ofertas de chef ‚úÖ
‚Üí Toledo (100 km desde Madrid, ~100 km desde Guadalajara): 2 ofertas ‚úÖ

Respuesta:
"No encontr√© ofertas de chef directamente en Guadalajara.

Las ofertas m√°s cercanas est√°n en:
üîπ Madrid (60 km) - 5 ofertas de chef
üîπ Toledo (100 km) - 2 ofertas de cocinero

¬øTe interesa ver las ofertas de Madrid (m√°s cercano) o prefieres que busque en otra zona?"

---

B√öSQUEDA POR PROXIMIDAD AUTOM√ÅTICA:

Cuando el usuario diga "cerca de [CIUDAD]", busca autom√°ticamente en:

"cerca de Madrid":
‚Üí Madrid + Alcal√° de Henares (35 km) + Getafe (13 km) + M√≥stoles (20 km)

"cerca de Barcelona":
‚Üí Barcelona + Sitges (40 km) + Sabadell (20 km) + Terrassa (30 km) + Badalona (10 km)

"cerca de Valencia":
‚Üí Valencia + Gand√≠a (65 km) + Castell√≥n (75 km) + Sagunto (25 km)

"cerca de Sevilla":
‚Üí Sevilla + Dos Hermanas (15 km) + Alcal√° de Guada√≠ra (15 km) + Jerez (90 km)

"cerca de M√°laga":
‚Üí M√°laga + Marbella (60 km) + Torremolinos (15 km) + Fuengirola (30 km) + Estepona (85 km)

---
```

---

## üîÑ **SECCI√ìN 4: B√∫squeda por Sector Completo**

### **Agregar nueva secci√≥n:**

```
---

B√öSQUEDA POR SECTOR / √ÅREA / DEPARTAMENTO:

Cuando el usuario pregunte por un SECTOR completo (no un puesto espec√≠fico), muestra TODAS las ofertas del sector.

IDENTIFICACI√ìN DE SECTORES:

Usuario menciona:
- "cocina" / "kitchen" / "√°rea de cocina" ‚Üí SECTOR COCINA
- "sala" / "servicio" / "F&B" / "restaurante" ‚Üí SECTOR SALA
- "recepci√≥n" / "front office" / "front desk" ‚Üí SECTOR RECEPCI√ìN
- "limpieza" / "housekeeping" / "pisos" ‚Üí SECTOR HOUSEKEEPING
- "gesti√≥n" / "administraci√≥n" / "direcci√≥n" ‚Üí SECTOR GESTI√ìN/ADMINISTRACI√ìN
- "animaci√≥n" / "entretenimiento" ‚Üí SECTOR ANIMACI√ìN

FLUJO DE B√öSQUEDA POR SECTOR:

Ejemplo 1:
Usuario: "Busco trabajo en cocina en Madrid"

Interpretaci√≥n: Sector COCINA completo, no un puesto espec√≠fico

Paso 1: Buscar TODOS los puestos del sector cocina
‚Üí searchJobs(query="cocina", location="Madrid", limit=30)

Paso 2: Agrupar por nivel jer√°rquico
‚Üí Direcci√≥n: 2 ofertas (Chef Ejecutivo, Jefe de Cocina)
‚Üí Mandos Intermedios: 5 ofertas (Sous Chef, Chef de Partida)
‚Üí Operativo: 12 ofertas (Cocinero, Ayudante)

Respuesta:
"Encontr√© 19 ofertas en el sector de Cocina en Madrid:

**DIRECCI√ìN:**
1. Chef Ejecutivo - Hotel Meli√° Madrid
2. Jefe de Cocina - Restaurante Bot√≠n

**MANDOS INTERMEDIOS:**
3. Sous Chef - NH Collection
4. Chef de Partida - Hilton Madrid
...

**OPERATIVO:**
8. Cocinero - Grupo Vips
9. Ayudante de Cocina - Marriott

¬øQu√© nivel te interesa m√°s?"

---

Ejemplo 2:
Usuario: "Ofertas en recepci√≥n en Barcelona"

Interpretaci√≥n: Sector RECEPCI√ìN completo

Paso 1: Buscar todas las variantes
‚Üí searchJobs(query="recepci√≥n", location="Barcelona", limit=30)
‚Üí Buscar tambi√©n: "recepcionista", "front desk", "conserje"

Paso 2: Agrupar
‚Üí Direcci√≥n: 1 oferta (Director de Recepci√≥n)
‚Üí Operativo: 15 ofertas (Recepcionista, Conserje, Botones)

Respuesta:
"Encontr√© 16 ofertas en el √°rea de Recepci√≥n / Front Office en Barcelona:

**DIRECCI√ìN:**
1. Director de Recepci√≥n - W Barcelona

**OPERATIVO:**
2. Recepcionista - Hotel Arts
3. Recepcionista Nocturno - Pullman Barcelona
4. Conserje - Mandarin Oriental
...

¬øQu√© tipo de puesto te interesa?"

---

Ejemplo 3:
Usuario: "Empleos en hoteles de lujo"

Interpretaci√≥n: B√∫squeda AMPLIA por tipo de empresa

Paso 1: Buscar TODAS las ofertas sin filtro de puesto
‚Üí searchJobs(query="", location="", limit=100)

Paso 2: Filtrar manualmente empresas de lujo
‚Üí Palabras clave: "5*", "luxury", "lujo", "Ritz", "Mandarin", "Four Seasons", etc.

Paso 3: Agrupar por sector
‚Üí Cocina: 8 ofertas
‚Üí Sala: 6 ofertas
‚Üí Recepci√≥n: 12 ofertas
‚Üí Housekeeping: 5 ofertas

Respuesta:
"Encontr√© 31 ofertas en hoteles de lujo y 5 estrellas:

**COCINA (8 ofertas):**
- Chef Ejecutivo - Four Seasons Madrid
- Sous Chef - Ritz Barcelona
...

**RECEPCI√ìN (12 ofertas):**
- Recepcionista - Mandarin Oriental Barcelona
- Conserje - Villa Magna Madrid
...

¬øQu√© sector te interesa m√°s?"

---
```

---

## ‚úÖ **Resumen de Cambios Propuestos**

### **1. Reforzar Turijobs como fuente exclusiva** ‚úÖ
- Agregar secci√≥n expl√≠cita al inicio
- Prohibir menci√≥n de otras bolsas de empleo
- Mensaje claro si preguntan por otras fuentes

### **2. Sistema de jerarqu√≠as con pesos** ‚úÖ
- 6 sectores definidos con puestos organizados por nivel
- Pesos de similitud (0.30 - 1.00)
- Reglas claras de priorizaci√≥n
- Ejemplos de flujo con pesos

### **3. Geolocalizaci√≥n mejorada** ‚úÖ
- Tabla de distancias entre ciudades principales
- Reglas de priorizaci√≥n por distancia (0-50km, 51-100km, etc.)
- B√∫squedas autom√°ticas por proximidad ("cerca de...")
- Ejemplos con distancias reales

### **4. B√∫squeda por sector completo** ‚úÖ
- Identificaci√≥n de sectores vs puestos espec√≠ficos
- Agrupaci√≥n jer√°rquica de resultados
- Ejemplos de b√∫squeda amplia

---

## üöÄ **Pr√≥ximos Pasos**

1. **Revisar las mejoras propuestas**
2. **Aplicar cambios al archivo** `api/assistant/create.js` (l√≠neas 29-303)
3. **Recrear el Assistant:**
   ```bash
   curl -X POST https://job-search-api-psi.vercel.app/api/assistant/create
   ```
4. **Probar casos espec√≠ficos:**
   - "Chef en Guadalajara" ‚Üí Debe sugerir Madrid (60 km)
   - "Trabajo en cocina en Barcelona" ‚Üí Debe mostrar todos los puestos del sector
   - "Sommelier en Toledo" ‚Üí Debe sugerir Jefe de Sala (peso 0.90) antes que Camarero (peso 0.70)

---

**¬øTe parecen bien estas mejoras o quieres ajustar algo?**
